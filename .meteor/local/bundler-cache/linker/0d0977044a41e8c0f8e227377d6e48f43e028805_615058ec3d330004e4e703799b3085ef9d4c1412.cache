[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nLog = Package.logging.Log;\nRandom = Package.random.Random;\nEJSON = Package.ejson.EJSON;\nSpacebars = Package.spacebars.Spacebars;\ncheck = Package.check.check;\nMatch = Package.check.Match;\nReactMeteorData = Package['react-meteor-data'].ReactMeteorData;\nECMAScript = Package.ecmascript.ECMAScript;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nWebAppInternals = Package.webapp.WebAppInternals;\nmain = Package.webapp.main;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-server'].Symbol;\nMap = Package['ecmascript-runtime-server'].Map;\nSet = Package['ecmascript-runtime-server'].Set;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"api\":{\"notes.js\":function(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                //\n// imports/api/notes.js                                                                           //\n//                                                                                                //\n////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                  //\nvar _extends2 = require(\"babel-runtime/helpers/extends\");                                         //\n                                                                                                  //\nvar _extends3 = _interopRequireDefault(_extends2);                                                //\n                                                                                                  //\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n                                                                                                  //\nmodule.export({                                                                                   // 1\n  Notes: function () {                                                                            // 1\n    return Notes;                                                                                 // 1\n  }                                                                                               // 1\n});                                                                                               // 1\nvar Mongo = void 0;                                                                               // 1\nmodule.watch(require(\"meteor/mongo\"), {                                                           // 1\n  Mongo: function (v) {                                                                           // 1\n    Mongo = v;                                                                                    // 1\n  }                                                                                               // 1\n}, 0);                                                                                            // 1\nvar Meteor = void 0;                                                                              // 1\nmodule.watch(require(\"meteor/meteor\"), {                                                          // 1\n  Meteor: function (v) {                                                                          // 1\n    Meteor = v;                                                                                   // 1\n  }                                                                                               // 1\n}, 1);                                                                                            // 1\nvar moment = void 0;                                                                              // 1\nmodule.watch(require(\"moment\"), {                                                                 // 1\n  \"default\": function (v) {                                                                       // 1\n    moment = v;                                                                                   // 1\n  }                                                                                               // 1\n}, 2);                                                                                            // 1\nvar SimpleSchema = void 0;                                                                        // 1\nmodule.watch(require(\"simpl-schema\"), {                                                           // 1\n  \"default\": function (v) {                                                                       // 1\n    SimpleSchema = v;                                                                             // 1\n  }                                                                                               // 1\n}, 3);                                                                                            // 1\nvar Notes = new Mongo.Collection('notes');                                                        // 6\n                                                                                                  //\nif (Meteor.isServer) {                                                                            // 8\n  Meteor.publish('notes', function () {                                                           // 9\n    return Notes.find({                                                                           // 10\n      userId: this.userId                                                                         // 10\n    });                                                                                           // 10\n  });                                                                                             // 11\n}                                                                                                 // 12\n                                                                                                  //\nMeteor.methods({                                                                                  // 14\n  'notes.insert': function () {                                                                   // 15\n    if (!this.userId) {                                                                           // 16\n      throw new Meteor.Error('not-authorized');                                                   // 17\n    }                                                                                             // 18\n                                                                                                  //\n    return Notes.insert({                                                                         // 20\n      title: '',                                                                                  // 21\n      body: '',                                                                                   // 22\n      userId: this.userId,                                                                        // 23\n      updatedAt: moment().valueOf()                                                               // 24\n    });                                                                                           // 20\n  },                                                                                              // 26\n  'notes.remove': function (_id) {                                                                // 27\n    if (!this.userId) {                                                                           // 28\n      throw new Meteor.Error('not-authorized');                                                   // 29\n    }                                                                                             // 30\n                                                                                                  //\n    new SimpleSchema({                                                                            // 32\n      _id: {                                                                                      // 33\n        type: String,                                                                             // 34\n        min: 1                                                                                    // 35\n      }                                                                                           // 33\n    }).validate({                                                                                 // 32\n      _id: _id                                                                                    // 37\n    }); //ensures that note._id's userId is equal to the current userId                           // 37\n                                                                                                  //\n    Notes.remove({                                                                                // 39\n      _id: _id,                                                                                   // 39\n      userId: this.userId                                                                         // 39\n    });                                                                                           // 39\n  },                                                                                              // 40\n  'notes.update': function (_id, updates) {                                                       // 41\n    if (!this.userId) {                                                                           // 42\n      throw new Meteor.Error('not-authorized');                                                   // 43\n    }                                                                                             // 44\n                                                                                                  //\n    new SimpleSchema({                                                                            // 46\n      _id: {                                                                                      // 47\n        type: String,                                                                             // 48\n        min: 1                                                                                    // 49\n      },                                                                                          // 47\n      title: {                                                                                    // 51\n        type: String,                                                                             // 52\n        optional: true                                                                            // 53\n      },                                                                                          // 51\n      body: {                                                                                     // 55\n        type: String,                                                                             // 56\n        optional: true                                                                            // 57\n      }                                                                                           // 55\n    }).validate((0, _extends3.default)({                                                          // 46\n      _id: _id                                                                                    // 60\n    }, updates));                                                                                 // 46\n    Notes.update({                                                                                // 64\n      _id: _id,                                                                                   // 65\n      userId: this.userId                                                                         // 66\n    }, {                                                                                          // 64\n      $set: (0, _extends3.default)({                                                              // 68\n        updatedAt: moment().valueOf()                                                             // 69\n      }, updates)                                                                                 // 68\n    });                                                                                           // 67\n  }                                                                                               // 73\n});                                                                                               // 14\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"users.js\":function(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                //\n// imports/api/users.js                                                                           //\n//                                                                                                //\n////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                  //\nmodule.export({                                                                                   // 1\n\tvalidateNewUser: function () {                                                                   // 1\n\t\treturn validateNewUser;                                                                         // 1\n\t}                                                                                                // 1\n});                                                                                               // 1\nvar Meteor = void 0;                                                                              // 1\nmodule.watch(require(\"meteor/meteor\"), {                                                          // 1\n\tMeteor: function (v) {                                                                           // 1\n\t\tMeteor = v;                                                                                     // 1\n\t}                                                                                                // 1\n}, 0);                                                                                            // 1\nvar SimpleSchema = void 0;                                                                        // 1\nmodule.watch(require(\"simpl-schema\"), {                                                           // 1\n\t\"default\": function (v) {                                                                        // 1\n\t\tSimpleSchema = v;                                                                               // 1\n\t}                                                                                                // 1\n}, 1);                                                                                            // 1\nvar Accounts = void 0;                                                                            // 1\nmodule.watch(require(\"meteor/accounts-base\"), {                                                   // 1\n\tAccounts: function (v) {                                                                         // 1\n\t\tAccounts = v;                                                                                   // 1\n\t}                                                                                                // 1\n}, 2);                                                                                            // 1\n                                                                                                  //\nvar validateNewUser = function (user) {                                                           // 5\n\tvar email = user.emails[0].address;                                                              // 6\n\tnew SimpleSchema({                                                                               // 8\n\t\temail: {                                                                                        // 9\n\t\t\ttype: String,                                                                                  // 10\n\t\t\tregEx: SimpleSchema.RegEx.Email                                                                // 11\n\t\t}                                                                                               // 9\n\t}).validate({                                                                                    // 8\n\t\temail: email                                                                                    // 13\n\t});                                                                                              // 13\n\treturn true;                                                                                     // 16\n};                                                                                                // 17\n                                                                                                  //\nif (Meteor.isServer) {                                                                            // 19\n\tAccounts.validateNewUser(validateNewUser);                                                       // 20\n}                                                                                                 // 21\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"startup\":{\"simple-schema-configuration.js\":function(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                //\n// imports/startup/simple-schema-configuration.js                                                 //\n//                                                                                                //\n////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                  //\nvar Meteor = void 0;                                                                              // 1\nmodule.watch(require(\"meteor/meteor\"), {                                                          // 1\n\tMeteor: function (v) {                                                                           // 1\n\t\tMeteor = v;                                                                                     // 1\n\t}                                                                                                // 1\n}, 0);                                                                                            // 1\nvar SimpleSchema = void 0;                                                                        // 1\nmodule.watch(require(\"simpl-schema\"), {                                                           // 1\n\t\"default\": function (v) {                                                                        // 1\n\t\tSimpleSchema = v;                                                                               // 1\n\t}                                                                                                // 1\n}, 1);                                                                                            // 1\nSimpleSchema.defineValidationErrorTransform(function (e) {                                        // 4\n\treturn new Meteor.Error(400, e.message);                                                         // 5\n});                                                                                               // 6\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"server\":{\"main.js\":function(require,exports,module){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                //\n// server/main.js                                                                                 //\n//                                                                                                //\n////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                  //\nvar Meteor = void 0;                                                                              // 1\nmodule.watch(require(\"meteor/meteor\"), {                                                          // 1\n  Meteor: function (v) {                                                                          // 1\n    Meteor = v;                                                                                   // 1\n  }                                                                                               // 1\n}, 0);                                                                                            // 1\nvar WebApp = void 0;                                                                              // 1\nmodule.watch(require(\"meteor/webapp\"), {                                                          // 1\n  WebApp: function (v) {                                                                          // 1\n    WebApp = v;                                                                                   // 1\n  }                                                                                               // 1\n}, 1);                                                                                            // 1\nmodule.watch(require(\"../imports/api/users\"));                                                    // 1\nmodule.watch(require(\"../imports/api/notes\"));                                                    // 1\nmodule.watch(require(\"../imports/startup/simple-schema-configuration\"));                          // 1\nMeteor.startup(function () {});                                                                   // 9\nconsole.log('Log from /server/main.js');                                                          // 14\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".jsx\"\n  ]\n});\nrequire(\"./server/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["imports/api/notes.js","imports/api/users.js","imports/startup/simple-schema-configuration.js","server/main.js"],"names":["module","export","Notes","Mongo","watch","require","v","Meteor","moment","SimpleSchema","Collection","isServer","publish","find","userId","methods","Error","insert","title","body","updatedAt","valueOf","_id","type","String","min","validate","remove","updates","optional","update","$set","validateNewUser","Accounts","user","email","emails","address","regEx","RegEx","Email","defineValidationErrorTransform","e","message","WebApp","startup","console","log"],"mappings":"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","file":"/app.js","sourcesContent":["import { Mongo } from 'meteor/mongo';\nimport { Meteor } from 'meteor/meteor';\nimport moment from 'moment';\nimport SimpleSchema from 'simpl-schema';\n\nexport const Notes = new Mongo.Collection('notes');\n\nif (Meteor.isServer) {\n  Meteor.publish('notes', function () {\n    return Notes.find({ userId: this.userId });\n  });\n}\n\nMeteor.methods({\n  'notes.insert'() {\n    if (!this.userId) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    return Notes.insert({\n      title: '',\n      body: '',\n      userId: this.userId,\n      updatedAt: moment().valueOf()\n    });\n  },\n  'notes.remove'(_id) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    new SimpleSchema({\n      _id: {\n        type: String,\n        min: 1\n      }\n    }).validate({ _id });\n    //ensures that note._id's userId is equal to the current userId\n    Notes.remove({ _id, userId: this.userId });\n  },\n  'notes.update'(_id, updates) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-authorized');\n    }\n\n    new SimpleSchema({\n      _id: {\n        type: String,\n        min: 1\n      },\n      title: {\n        type: String,\n        optional: true\n      },\n      body: {\n        type: String,\n        optional: true\n      }\n    }).validate({\n      _id,\n      ...updates\n    });\n\n    Notes.update({\n      _id,\n      userId: this.userId\n    }, {\n      $set: {\n        updatedAt: moment().valueOf(),\n        ...updates\n      }\n    });\n  }\n});\n","import { Meteor } from 'meteor/meteor';\nimport SimpleSchema from 'simpl-schema';\nimport { Accounts } from 'meteor/accounts-base';\n\nexport const validateNewUser = (user) => {\n\tconst email = user.emails[0].address;\n\n\tnew SimpleSchema({\n\t\temail: {\n\t\t\ttype: String,\n\t\t\tregEx: SimpleSchema.RegEx.Email\n\t\t}\n\t}).validate({ email });\n\n\n\treturn true;\n};\n\nif (Meteor.isServer) {\n\tAccounts.validateNewUser(validateNewUser);\n}\n","import { Meteor } from 'meteor/meteor';\nimport SimpleSchema from 'simpl-schema';\n\nSimpleSchema.defineValidationErrorTransform((e) => {\n\treturn new Meteor.Error(400, e.message)\n});\n","import { Meteor } from 'meteor/meteor';\nimport { WebApp } from 'meteor/webapp';\n\nimport '../imports/api/users';\nimport '../imports/api/notes';\nimport '../imports/startup/simple-schema-configuration';\n\n\nMeteor.startup(() => {\n\n});\n\n\nconsole.log('Log from /server/main.js');\n"]}}]