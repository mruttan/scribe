{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar BaseReporter;\n\nBaseReporter = (function() {\n  function BaseReporter(runner, options) {\n    this.runner = runner;\n    this.options = options;\n    expect(this.runner).to.be.an('object');\n    expect(this.options).to.be.an('object');\n    this.stats = {\n      total: this.runner.total,\n      suites: 0,\n      tests: 0,\n      passes: 0,\n      pending: 0,\n      failures: 0\n    };\n    this.failures = [];\n    this.runner.stats = this.stats;\n    this.runner.on('start', (function(_this) {\n      return function() {\n        return _this.stats.start = new Date;\n      };\n    })(this));\n    this.runner.on('suite', (function(_this) {\n      return function(suite) {\n        if (!suite.root) {\n          return _this.stats.suites++;\n        }\n      };\n    })(this));\n    this.runner.on('test end', (function(_this) {\n      return function(test) {\n        return _this.stats.tests++;\n      };\n    })(this));\n    this.runner.on('pass', (function(_this) {\n      return function(test) {\n        var medium;\n        medium = test.slow() / 2;\n        if (test.duration > test.slow()) {\n          test.speed = 'slow';\n        } else if (test.duration > medium) {\n          test.speed = 'medium';\n        } else {\n          test.speed = 'fast';\n        }\n        return _this.stats.passes++;\n      };\n    })(this));\n    this.runner.on('fail', (function(_this) {\n      return function(test, err) {\n        _this.stats.failures++;\n        test.err = err;\n        return _this.failures.push(test);\n      };\n    })(this));\n    this.runner.on('end', (function(_this) {\n      return function() {\n        _this.stats.end = new Date;\n        return _this.stats.duration = _this.stats.end - _this.stats.start;\n      };\n    })(this));\n    this.runner.on('pending', (function(_this) {\n      return function() {\n        return _this.stats.pending++;\n      };\n    })(this));\n  }\n\n  return BaseReporter;\n\n})();\n\nmodule.exports = BaseReporter;\n","sourceMap":{"version":3,"file":"/meteor/src/reporters/BaseReporter.coffee.js","sourceRoot":"","sources":["/packages/practicalmeteor_mocha/meteor/src/reporters/BaseReporter.coffee"],"names":[],"mappings":"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","sourcesContent":["#/**\n# * Initialize a new `Base` reporter.\n# *\n# * All other reporters generally\n# * inherit from this reporter, providing\n# * stats such as test duration, number\n# * of tests passed / failed etc.\n#*\n#* @param {Runner} runner\n#* @api public\n#*/\n\nclass BaseReporter\n\n  constructor: (@runner, @options)->\n    expect(@runner).to.be.an 'object'\n    expect(@options).to.be.an 'object'\n    @stats = { total: @runner.total, suites: 0, tests: 0, passes: 0, pending: 0, failures: 0 }\n    @failures = []\n\n    @runner.stats = @stats\n\n    @runner.on 'start', =>\n      @stats.start = new Date\n\n    @runner.on 'suite', (suite)=>\n      @stats.suites++ if not suite.root\n\n    @runner.on 'test end', (test)=>\n      @stats.tests++\n\n    @runner.on 'pass', (test)=>\n      medium = test.slow() / 2\n      if test.duration > test.slow()\n        test.speed = 'slow'\n      else if test.duration > medium\n        test.speed = 'medium'\n      else\n        test.speed = 'fast'\n      @stats.passes++\n\n    @runner.on 'fail', (test, err)=>\n      @stats.failures++;\n      test.err = err\n      @failures.push(test)\n\n    @runner.on 'end', =>\n      @stats.end = new Date\n      @stats.duration = @stats.end - @stats.start\n\n    @runner.on 'pending', =>\n      @stats.pending++\n\n\nmodule.exports = BaseReporter\n"]}}