{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"simpl-schema","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"SimpleSchema"}]},{"source":"meteor/accounts-base","imported":["Accounts"],"specifiers":[{"kind":"named","imported":"Accounts","local":"Accounts"}]}],"exports":{"exported":["validateNewUser"],"specifiers":[{"kind":"local","local":"validateNewUser","exported":"validateNewUser"}]}}},"options":{"filename":"imports/api/users.js","filenameRelative":"imports/api/users.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/api/users.js.map","sourceFileName":"imports/api/users.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"users"},"ignored":false,"code":"module.export({\n\tvalidateNewUser: function () {\n\t\treturn validateNewUser;\n\t}\n});\nvar Meteor = void 0;\nmodule.watch(require(\"meteor/meteor\"), {\n\tMeteor: function (v) {\n\t\tMeteor = v;\n\t}\n}, 0);\nvar SimpleSchema = void 0;\nmodule.watch(require(\"simpl-schema\"), {\n\t\"default\": function (v) {\n\t\tSimpleSchema = v;\n\t}\n}, 1);\nvar Accounts = void 0;\nmodule.watch(require(\"meteor/accounts-base\"), {\n\tAccounts: function (v) {\n\t\tAccounts = v;\n\t}\n}, 2);\n\nvar validateNewUser = function (user) {\n\tvar email = user.emails[0].address;\n\tnew SimpleSchema({\n\t\temail: {\n\t\t\ttype: String,\n\t\t\tregEx: SimpleSchema.RegEx.Email\n\t\t}\n\t}).validate({\n\t\temail: email\n\t});\n\treturn true;\n};\n\nif (Meteor.isServer) {\n\tAccounts.validateNewUser(validateNewUser);\n}","map":{"version":3,"sources":["imports/api/users.js"],"names":["module","export","validateNewUser","Meteor","watch","require","v","SimpleSchema","Accounts","user","email","emails","address","type","String","regEx","RegEx","Email","validate","isServer"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAACC,kBAAgB;AAAA,SAAIA,eAAJ;AAAA;AAAjB,CAAd;AAAqD,IAAIC,eAAJ;AAAWH,OAAOI,KAAP,CAAaC,QAAQ,eAAR,CAAb,EAAsC;AAACF,OAAD,YAAQG,CAAR,EAAU;AAACH,WAAOG,CAAP;AAAS;AAApB,CAAtC,EAA4D,CAA5D;AAA+D,IAAIC,qBAAJ;AAAiBP,OAAOI,KAAP,CAAaC,QAAQ,cAAR,CAAb,EAAqC;AAAA,sBAASC,CAAT,EAAW;AAACC,iBAAaD,CAAb;AAAe;AAA3B,CAArC,EAAkE,CAAlE;AAAqE,IAAIE,iBAAJ;AAAaR,OAAOI,KAAP,CAAaC,QAAQ,sBAAR,CAAb,EAA6C;AAACG,SAAD,YAAUF,CAAV,EAAY;AAACE,aAASF,CAAT;AAAW;AAAxB,CAA7C,EAAuE,CAAvE;;AAI3N,IAAMJ,kBAAkB,UAACO,IAAD,EAAU;AACxC,KAAMC,QAAQD,KAAKE,MAAL,CAAY,CAAZ,EAAeC,OAA7B;AAEA,KAAIL,YAAJ,CAAiB;AAChBG,SAAO;AACNG,SAAMC,MADA;AAENC,UAAOR,aAAaS,KAAb,CAAmBC;AAFpB;AADS,EAAjB,EAKGC,QALH,CAKY;AAAER;AAAF,EALZ;AAQA,QAAO,IAAP;AACA,CAZM;;AAcP,IAAIP,OAAOgB,QAAX,EAAqB;AACpBX,UAASN,eAAT,CAAyBA,eAAzB;AACA","file":"imports/api/users.js.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport SimpleSchema from 'simpl-schema';\nimport { Accounts } from 'meteor/accounts-base';\n\nexport const validateNewUser = (user) => {\n\tconst email = user.emails[0].address;\n\n\tnew SimpleSchema({\n\t\temail: {\n\t\t\ttype: String,\n\t\t\tregEx: SimpleSchema.RegEx.Email\n\t\t}\n\t}).validate({ email });\n\n\n\treturn true;\n};\n\nif (Meteor.isServer) {\n\tAccounts.validateNewUser(validateNewUser);\n}\n"]},"hash":"94c0db7392f806d1eb8aeeb9dfb47bfda112334e"}
