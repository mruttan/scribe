{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/practicalmeteor:mocha/test/reporters/json.js","filenameRelative":"packages/practicalmeteor:mocha/test/reporters/json.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/practicalmeteor:mocha/test/reporters/json.js.map","sourceFileName":"packages/practicalmeteor:mocha/test/reporters/json.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"json"},"ignored":false,"code":"var Mocha = require('../../'),\n    Suite = Mocha.Suite,\n    Runner = Mocha.Runner,\n    Test = Mocha.Test;\n\ndescribe('json reporter', function () {\n  var suite, runner;\n  beforeEach(function () {\n    var mocha = new Mocha({\n      reporter: 'json'\n    });\n    suite = new Suite('JSON suite', 'root');\n    runner = new Runner(suite);\n    var mochaReporter = new mocha._reporter(runner);\n  });\n  it('should have 1 test failure', function (done) {\n    var testTitle = 'json test 1';\n    var error = {\n      message: 'oh shit'\n    };\n    suite.addTest(new Test(testTitle, function (done) {\n      done(new Error(error.message));\n    }));\n    runner.run(function (failureCount) {\n      failureCount.should.be.exactly(1);\n      runner.should.have.property('testResults');\n      runner.testResults.should.have.property('failures');\n      runner.testResults.failures.should.be.an.instanceOf(Array);\n      runner.testResults.failures.should.have.a.lengthOf(1);\n      var failure = runner.testResults.failures[0];\n      failure.should.have.property('title', testTitle);\n      failure.err.message.should.equal(error.message);\n      failure.should.have.properties('err');\n      done();\n    });\n  });\n  it('should have 1 test pending', function (done) {\n    var testTitle = 'json test 1';\n    suite.addTest(new Test(testTitle));\n    runner.run(function (failureCount) {\n      failureCount.should.be.exactly(0);\n      runner.should.have.property('testResults');\n      runner.testResults.should.have.property('pending');\n      runner.testResults.pending.should.be.an.instanceOf(Array);\n      runner.testResults.pending.should.have.a.lengthOf(1);\n      var pending = runner.testResults.pending[0];\n      pending.should.have.property('title', testTitle);\n      done();\n    });\n  });\n});","map":{"version":3,"sources":["packages/practicalmeteor:mocha/test/reporters/json.js"],"names":["Mocha","require","Suite","Runner","Test","describe","suite","runner","beforeEach","mocha","reporter","mochaReporter","_reporter","it","done","testTitle","error","message","addTest","Error","run","failureCount","should","be","exactly","have","property","testResults","failures","an","instanceOf","Array","a","lengthOf","failure","err","equal","properties","pending"],"mappings":"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","file":"packages/practicalmeteor:mocha/test/reporters/json.js.map","sourcesContent":["var Mocha = require('../../')\n  , Suite = Mocha.Suite\n  , Runner = Mocha.Runner\n  , Test = Mocha.Test;\n\ndescribe('json reporter', function(){\n  var suite, runner;\n\n  beforeEach(function(){\n    var mocha = new Mocha({\n      reporter: 'json'\n    });\n    suite = new Suite('JSON suite', 'root');\n    runner = new Runner(suite);\n    var mochaReporter = new mocha._reporter(runner);\n  });\n\n   it('should have 1 test failure', function(done){\n     var testTitle = 'json test 1';\n     var error = { message: 'oh shit' };\n\n     suite.addTest(new Test(testTitle, function (done) {\n       done(new Error(error.message));\n     }));\n\n     runner.run(function(failureCount) {\n       failureCount.should.be.exactly(1);\n       runner.should.have.property('testResults');\n       runner.testResults.should.have.property('failures');\n       runner.testResults.failures.should.be.an.instanceOf(Array);\n       runner.testResults.failures.should.have.a.lengthOf(1);\n\n       var failure = runner.testResults.failures[0];\n       failure.should.have.property('title', testTitle);\n       failure.err.message.should.equal(error.message);\n       failure.should.have.properties('err');\n\n       done();\n     });\n  });\n\n  it('should have 1 test pending', function(done) {\n    var testTitle = 'json test 1';\n\n     suite.addTest(new Test(testTitle));\n\n     runner.run(function(failureCount) {\n       failureCount.should.be.exactly(0);\n       runner.should.have.property('testResults');\n       runner.testResults.should.have.property('pending');\n       runner.testResults.pending.should.be.an.instanceOf(Array);\n       runner.testResults.pending.should.have.a.lengthOf(1);\n\n       var pending = runner.testResults.pending[0];\n       pending.should.have.property('title', testTitle);\n\n       done();\n     });\n  })\n\n});\n"]},"hash":"82078e1b180602e7fc21d723741e1e578d781ae2"}
