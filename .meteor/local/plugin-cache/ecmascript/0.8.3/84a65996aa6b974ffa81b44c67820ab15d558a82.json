{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/practicalmeteor:mocha/test/hook.async.js","filenameRelative":"packages/practicalmeteor:mocha/test/hook.async.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/practicalmeteor:mocha/test/hook.async.js.map","sourceFileName":"packages/practicalmeteor:mocha/test/hook.async.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"hook.async"},"ignored":false,"code":"describe('async', function () {\n  var calls = [];\n  before(function () {\n    calls.push('root before all');\n  });\n  after(function () {\n    calls.push('root after all');\n    calls.should.eql(['root before all', 'before all', 'parent before', 'before', 'before test one', 'one', 'after', 'after test one passed', 'parent after', 'parent before', 'before', 'before test two', 'two', 'after', 'after test two passed', 'parent after', 'parent before', 'before', 'before test three', 'three', 'after', 'after test three passed', 'parent after', 'after all', 'root after all']);\n  });\n  beforeEach(function () {\n    calls.push('parent before');\n  });\n  afterEach(function () {\n    calls.push('parent after');\n  });\n  describe('hooks', function () {\n    before(function () {\n      calls.push('before all');\n    });\n    after(function () {\n      calls.push('after all');\n    });\n    beforeEach(function (done) {\n      var ctx = this;\n      process.nextTick(function () {\n        calls.push('before');\n\n        if (ctx.currentTest) {\n          calls.push('before test ' + ctx.currentTest.title);\n        }\n\n        done();\n      });\n    });\n    it('one', function (done) {\n      calls.should.eql(['root before all', 'before all', 'parent before', 'before', 'before test one']);\n      calls.push('one');\n      process.nextTick(done);\n    });\n    it('two', function () {\n      calls.should.eql(['root before all', 'before all', 'parent before', 'before', 'before test one', 'one', 'after', 'after test one passed', 'parent after', 'parent before', 'before', 'before test two']);\n      calls.push('two');\n    });\n    it('three', function () {\n      calls.should.eql(['root before all', 'before all', 'parent before', 'before', 'before test one', 'one', 'after', 'after test one passed', 'parent after', 'parent before', 'before', 'before test two', 'two', 'after', 'after test two passed', 'parent after', 'parent before', 'before', 'before test three']);\n      calls.push('three');\n    });\n    afterEach(function (done) {\n      var ctx = this;\n      process.nextTick(function () {\n        calls.push('after');\n\n        if (ctx.currentTest) {\n          calls.push('after test ' + ctx.currentTest.title + ' ' + ctx.currentTest.state);\n        }\n\n        done();\n      });\n    });\n  });\n});","map":{"version":3,"sources":["packages/practicalmeteor:mocha/test/hook.async.js"],"names":["describe","calls","before","push","after","should","eql","beforeEach","afterEach","done","ctx","process","nextTick","currentTest","title","it","state"],"mappings":"AAAAA,SAAS,OAAT,EAAkB,YAAU;AAC1B,MAAIC,QAAQ,EAAZ;AAEAC,SAAO,YAAU;AACfD,UAAME,IAAN,CAAW,iBAAX;AACD,GAFD;AAIAC,QAAM,YAAU;AACdH,UAAME,IAAN,CAAW,gBAAX;AACAF,UAAMI,MAAN,CAAaC,GAAb,CAAiB,CACb,iBADa,EAEb,YAFa,EAGb,eAHa,EAIb,QAJa,EAKb,iBALa,EAMb,KANa,EAOb,OAPa,EAQb,uBARa,EASb,cATa,EAUb,eAVa,EAWb,QAXa,EAYb,iBAZa,EAab,KAba,EAcb,OAda,EAeb,uBAfa,EAgBb,cAhBa,EAiBb,eAjBa,EAkBb,QAlBa,EAmBb,mBAnBa,EAoBb,OApBa,EAqBb,OArBa,EAsBb,yBAtBa,EAuBb,cAvBa,EAwBb,WAxBa,EAyBb,gBAzBa,CAAjB;AA0BD,GA5BD;AA8BAC,aAAW,YAAU;AACnBN,UAAME,IAAN,CAAW,eAAX;AACD,GAFD;AAIAK,YAAU,YAAU;AAClBP,UAAME,IAAN,CAAW,cAAX;AACD,GAFD;AAIAH,WAAS,OAAT,EAAkB,YAAU;AAC1BE,WAAO,YAAU;AACfD,YAAME,IAAN,CAAW,YAAX;AACD,KAFD;AAIAC,UAAM,YAAU;AACdH,YAAME,IAAN,CAAW,WAAX;AACD,KAFD;AAIAI,eAAW,UAASE,IAAT,EAAc;AACvB,UAAIC,MAAM,IAAV;AACAC,cAAQC,QAAR,CAAiB,YAAU;AACzBX,cAAME,IAAN,CAAW,QAAX;;AACA,YAAIO,IAAIG,WAAR,EAAqB;AACnBZ,gBAAME,IAAN,CAAW,iBAAiBO,IAAIG,WAAJ,CAAgBC,KAA5C;AACD;;AACDL;AACD,OAND;AAOD,KATD;AAWAM,OAAG,KAAH,EAAU,UAASN,IAAT,EAAc;AACtBR,YAAMI,MAAN,CAAaC,GAAb,CAAiB,CACb,iBADa,EAEb,YAFa,EAGb,eAHa,EAIb,QAJa,EAKb,iBALa,CAAjB;AAMAL,YAAME,IAAN,CAAW,KAAX;AACAQ,cAAQC,QAAR,CAAiBH,IAAjB;AACD,KATD;AAWAM,OAAG,KAAH,EAAU,YAAU;AAClBd,YAAMI,MAAN,CAAaC,GAAb,CAAiB,CACb,iBADa,EAEb,YAFa,EAGb,eAHa,EAIb,QAJa,EAKb,iBALa,EAMb,KANa,EAOb,OAPa,EAQb,uBARa,EASb,cATa,EAUb,eAVa,EAWb,QAXa,EAYb,iBAZa,CAAjB;AAaAL,YAAME,IAAN,CAAW,KAAX;AACD,KAfD;AAiBAY,OAAG,OAAH,EAAY,YAAU;AACpBd,YAAMI,MAAN,CAAaC,GAAb,CAAiB,CACb,iBADa,EAEb,YAFa,EAGb,eAHa,EAIb,QAJa,EAKb,iBALa,EAMb,KANa,EAOb,OAPa,EAQb,uBARa,EASb,cATa,EAUb,eAVa,EAWb,QAXa,EAYb,iBAZa,EAab,KAba,EAcb,OAda,EAeb,uBAfa,EAgBb,cAhBa,EAiBb,eAjBa,EAkBb,QAlBa,EAmBb,mBAnBa,CAAjB;AAoBAL,YAAME,IAAN,CAAW,OAAX;AACD,KAtBD;AAwBAK,cAAU,UAASC,IAAT,EAAc;AACtB,UAAIC,MAAM,IAAV;AACAC,cAAQC,QAAR,CAAiB,YAAU;AACzBX,cAAME,IAAN,CAAW,OAAX;;AACA,YAAIO,IAAIG,WAAR,EAAqB;AACnBZ,gBAAME,IAAN,CAAW,gBAAgBO,IAAIG,WAAJ,CAAgBC,KAAhC,GAAwC,GAAxC,GAA8CJ,IAAIG,WAAJ,CAAgBG,KAAzE;AACD;;AACDP;AACD,OAND;AAOD,KATD;AAUD,GAlFD;AAmFD,CAhID","file":"packages/practicalmeteor:mocha/test/hook.async.js.map","sourcesContent":["describe('async', function(){\n  var calls = [];\n\n  before(function(){\n    calls.push('root before all');\n  })\n\n  after(function(){\n    calls.push('root after all');\n    calls.should.eql([\n        'root before all'\n      , 'before all'\n      , 'parent before'\n      , 'before'\n      , 'before test one'\n      , 'one'\n      , 'after'\n      , 'after test one passed'\n      , 'parent after'\n      , 'parent before'\n      , 'before'\n      , 'before test two'\n      , 'two'\n      , 'after'\n      , 'after test two passed'\n      , 'parent after'\n      , 'parent before'\n      , 'before'\n      , 'before test three'\n      , 'three'\n      , 'after'\n      , 'after test three passed'\n      , 'parent after'\n      , 'after all'\n      , 'root after all']);\n  })\n\n  beforeEach(function(){\n    calls.push('parent before');\n  })\n\n  afterEach(function(){\n    calls.push('parent after' );\n  })\n\n  describe('hooks', function(){\n    before(function(){\n      calls.push('before all');\n    });\n\n    after(function(){\n      calls.push('after all');\n    });\n\n    beforeEach(function(done){\n      var ctx = this;\n      process.nextTick(function(){\n        calls.push('before');\n        if (ctx.currentTest) {\n          calls.push('before test ' + ctx.currentTest.title);\n        }\n        done();\n      })\n    })\n\n    it('one', function(done){\n      calls.should.eql([\n          'root before all'\n        , 'before all'\n        , 'parent before'\n        , 'before'\n        , 'before test one']);\n      calls.push('one');\n      process.nextTick(done);\n    })\n\n    it('two', function(){\n      calls.should.eql([\n          'root before all'\n        , 'before all'\n        , 'parent before'\n        , 'before'\n        , 'before test one'\n        , 'one'\n        , 'after'\n        , 'after test one passed'\n        , 'parent after'\n        , 'parent before'\n        , 'before'\n        , 'before test two']);\n      calls.push('two');\n    })\n\n    it('three', function(){\n      calls.should.eql([\n          'root before all'\n        , 'before all'\n        , 'parent before'\n        , 'before'\n        , 'before test one'\n        , 'one'\n        , 'after'\n        , 'after test one passed'\n        , 'parent after'\n        , 'parent before'\n        , 'before'\n        , 'before test two'\n        , 'two'\n        , 'after'\n        , 'after test two passed'\n        , 'parent after'\n        , 'parent before'\n        , 'before'\n        , 'before test three']);\n      calls.push('three');\n    })\n\n    afterEach(function(done){\n      var ctx = this;\n      process.nextTick(function(){\n        calls.push('after');\n        if (ctx.currentTest) {\n          calls.push('after test ' + ctx.currentTest.title + ' ' + ctx.currentTest.state);\n        }\n        done();\n      })\n    })\n  })\n})\n"]},"hash":"84a65996aa6b974ffa81b44c67820ab15d558a82"}
