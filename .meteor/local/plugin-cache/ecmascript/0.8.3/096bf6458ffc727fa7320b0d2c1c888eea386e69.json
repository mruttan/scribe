{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/practicalmeteor:mocha/lib/reporters/spec.js","filenameRelative":"packages/practicalmeteor:mocha/lib/reporters/spec.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/practicalmeteor:mocha/lib/reporters/spec.js.map","sourceFileName":"packages/practicalmeteor:mocha/lib/reporters/spec.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"spec"},"ignored":false,"code":"/**\n * Module dependencies.\n */var Base = require('./base');\n\nvar inherits = require('../utils').inherits;\n\nvar color = Base.color;\nvar cursor = Base.cursor; /**\n                           * Expose `Spec`.\n                           */\nexports = module.exports = Spec; /**\n                                  * Initialize a new `Spec` test reporter.\n                                  *\n                                  * @api public\n                                  * @param {Runner} runner\n                                  */\n\nfunction Spec(runner) {\n  Base.call(this, runner);\n  var self = this;\n  var indents = 0;\n  var n = 0;\n\n  function indent() {\n    return Array(indents).join('  ');\n  }\n\n  runner.on('start', function () {\n    console.log();\n  });\n  runner.on('suite', function (suite) {\n    ++indents;\n    console.log(color('suite', '%s%s'), indent(), suite.title);\n  });\n  runner.on('suite end', function () {\n    --indents;\n\n    if (indents === 1) {\n      console.log();\n    }\n  });\n  runner.on('pending', function (test) {\n    var fmt = indent() + color('pending', '  - %s');\n    console.log(fmt, test.title);\n  });\n  runner.on('pass', function (test) {\n    var fmt;\n\n    if (test.speed === 'fast') {\n      fmt = indent() + color('checkmark', '  ' + Base.symbols.ok) + color('pass', ' %s');\n      cursor.CR();\n      console.log(fmt, test.title);\n    } else {\n      fmt = indent() + color('checkmark', '  ' + Base.symbols.ok) + color('pass', ' %s') + color(test.speed, ' (%dms)');\n      cursor.CR();\n      console.log(fmt, test.title, test.duration);\n    }\n  });\n  runner.on('fail', function (test) {\n    cursor.CR();\n    console.log(indent() + color('fail', '  %d) %s'), ++n, test.title);\n  });\n  runner.on('end', self.epilogue.bind(self));\n} /**\n   * Inherit from `Base.prototype`.\n   */\n\ninherits(Spec, Base);","map":{"version":3,"sources":["packages/practicalmeteor:mocha/lib/reporters/spec.js"],"names":["Base","require","inherits","color","cursor","exports","module","Spec","runner","call","self","indents","n","indent","Array","join","on","console","log","suite","title","test","fmt","speed","symbols","ok","CR","duration","epilogue","bind"],"mappings":"AAAA;;GAIA,IAAIA,OAAOC,QAAQ,QAAR,CAAX;;AACA,IAAIC,WAAWD,QAAQ,UAAR,EAAoBC,QAAnC;;AACA,IAAIC,QAAQH,KAAKG,KAAjB;AACA,IAAIC,SAASJ,KAAKI,MAAlB,C,CAEA;;;AAIAC,UAAUC,OAAOD,OAAP,GAAiBE,IAA3B,C,CAEA;;;;;;;AAMA,SAASA,IAAT,CAAcC,MAAd,EAAsB;AACpBR,OAAKS,IAAL,CAAU,IAAV,EAAgBD,MAAhB;AAEA,MAAIE,OAAO,IAAX;AACA,MAAIC,UAAU,CAAd;AACA,MAAIC,IAAI,CAAR;;AAEA,WAASC,MAAT,GAAkB;AAChB,WAAOC,MAAMH,OAAN,EAAeI,IAAf,CAAoB,IAApB,CAAP;AACD;;AAEDP,SAAOQ,EAAP,CAAU,OAAV,EAAmB,YAAW;AAC5BC,YAAQC,GAAR;AACD,GAFD;AAIAV,SAAOQ,EAAP,CAAU,OAAV,EAAmB,UAASG,KAAT,EAAgB;AACjC,MAAER,OAAF;AACAM,YAAQC,GAAR,CAAYf,MAAM,OAAN,EAAe,MAAf,CAAZ,EAAoCU,QAApC,EAA8CM,MAAMC,KAApD;AACD,GAHD;AAKAZ,SAAOQ,EAAP,CAAU,WAAV,EAAuB,YAAW;AAChC,MAAEL,OAAF;;AACA,QAAIA,YAAY,CAAhB,EAAmB;AACjBM,cAAQC,GAAR;AACD;AACF,GALD;AAOAV,SAAOQ,EAAP,CAAU,SAAV,EAAqB,UAASK,IAAT,EAAe;AAClC,QAAIC,MAAMT,WAAWV,MAAM,SAAN,EAAiB,QAAjB,CAArB;AACAc,YAAQC,GAAR,CAAYI,GAAZ,EAAiBD,KAAKD,KAAtB;AACD,GAHD;AAKAZ,SAAOQ,EAAP,CAAU,MAAV,EAAkB,UAASK,IAAT,EAAe;AAC/B,QAAIC,GAAJ;;AACA,QAAID,KAAKE,KAAL,KAAe,MAAnB,EAA2B;AACzBD,YAAMT,WACFV,MAAM,WAAN,EAAmB,OAAOH,KAAKwB,OAAL,CAAaC,EAAvC,CADE,GAEFtB,MAAM,MAAN,EAAc,KAAd,CAFJ;AAGAC,aAAOsB,EAAP;AACAT,cAAQC,GAAR,CAAYI,GAAZ,EAAiBD,KAAKD,KAAtB;AACD,KAND,MAMO;AACLE,YAAMT,WACFV,MAAM,WAAN,EAAmB,OAAOH,KAAKwB,OAAL,CAAaC,EAAvC,CADE,GAEFtB,MAAM,MAAN,EAAc,KAAd,CAFE,GAGFA,MAAMkB,KAAKE,KAAX,EAAkB,SAAlB,CAHJ;AAIAnB,aAAOsB,EAAP;AACAT,cAAQC,GAAR,CAAYI,GAAZ,EAAiBD,KAAKD,KAAtB,EAA6BC,KAAKM,QAAlC;AACD;AACF,GAhBD;AAkBAnB,SAAOQ,EAAP,CAAU,MAAV,EAAkB,UAASK,IAAT,EAAe;AAC/BjB,WAAOsB,EAAP;AACAT,YAAQC,GAAR,CAAYL,WAAWV,MAAM,MAAN,EAAc,UAAd,CAAvB,EAAkD,EAAES,CAApD,EAAuDS,KAAKD,KAA5D;AACD,GAHD;AAKAZ,SAAOQ,EAAP,CAAU,KAAV,EAAiBN,KAAKkB,QAAL,CAAcC,IAAd,CAAmBnB,IAAnB,CAAjB;AACD,C,CAED;;;;AAGAR,SAASK,IAAT,EAAeP,IAAf","file":"packages/practicalmeteor:mocha/lib/reporters/spec.js.map","sourcesContent":["/**\n * Module dependencies.\n */\n\nvar Base = require('./base');\nvar inherits = require('../utils').inherits;\nvar color = Base.color;\nvar cursor = Base.cursor;\n\n/**\n * Expose `Spec`.\n */\n\nexports = module.exports = Spec;\n\n/**\n * Initialize a new `Spec` test reporter.\n *\n * @api public\n * @param {Runner} runner\n */\nfunction Spec(runner) {\n  Base.call(this, runner);\n\n  var self = this;\n  var indents = 0;\n  var n = 0;\n\n  function indent() {\n    return Array(indents).join('  ');\n  }\n\n  runner.on('start', function() {\n    console.log();\n  });\n\n  runner.on('suite', function(suite) {\n    ++indents;\n    console.log(color('suite', '%s%s'), indent(), suite.title);\n  });\n\n  runner.on('suite end', function() {\n    --indents;\n    if (indents === 1) {\n      console.log();\n    }\n  });\n\n  runner.on('pending', function(test) {\n    var fmt = indent() + color('pending', '  - %s');\n    console.log(fmt, test.title);\n  });\n\n  runner.on('pass', function(test) {\n    var fmt;\n    if (test.speed === 'fast') {\n      fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s');\n      cursor.CR();\n      console.log(fmt, test.title);\n    } else {\n      fmt = indent()\n        + color('checkmark', '  ' + Base.symbols.ok)\n        + color('pass', ' %s')\n        + color(test.speed, ' (%dms)');\n      cursor.CR();\n      console.log(fmt, test.title, test.duration);\n    }\n  });\n\n  runner.on('fail', function(test) {\n    cursor.CR();\n    console.log(indent() + color('fail', '  %d) %s'), ++n, test.title);\n  });\n\n  runner.on('end', self.epilogue.bind(self));\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\ninherits(Spec, Base);\n"]},"hash":"096bf6458ffc727fa7320b0d2c1c888eea386e69"}
